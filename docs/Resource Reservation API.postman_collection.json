{
   "info":{
      "_postman_id":"126a8e5a-062c-4b27-bc14-048edde65ef5",
      "name":"Resource Reservation API",
      "description":"Collection with all resources and reservation scenarios for testing availability and booking",
      "schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "_exporter_id":"20167929"
   },
   "variable":[
      {
         "key":"BASE_URL",
         "value":"http://localhost:8000"
      },
      {
         "key":"WORKER_TOKEN",
         "value":"WORKER_TEST_TOKEN_12345",
         "type":"string"
      },
      {
         "key":"MANAGER_TOKEN",
         "value":"MANAGER_TEST_TOKEN_12345",
         "type":"string"
      }
   ],
   "item":[
      {
         "name":"Resources",
         "item":[
            {
               "name":"GET /api/resources/",
               "request":{
                  "method":"GET",
                  "header":[
                     
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources"
                     ]
                  }
               },
               "response":[
                  
               ]
            }
         ]
      },
      {
         "name":"Availability",
         "item":[
            {
               "name":"Room A - 2025-11-23 09:00-11:00",
               "request":{
                  "method":"GET",
                  "header":[
                     
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/1/availability?date=2025-11-23&start_time=09:00&end_time=11:00",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "1",
                        "availability"
                     ],
                     "query":[
                        {
                           "key":"date",
                           "value":"2025-11-23"
                        },
                        {
                           "key":"start_time",
                           "value":"09:00"
                        },
                        {
                           "key":"end_time",
                           "value":"11:00"
                        }
                     ]
                  }
               },
               "response":[
                  
               ]
            },
            {
               "name":"Room A - 2025-11-23 14:00-16:00 (overlap pending)",
               "request":{
                  "method":"GET",
                  "header":[
                     
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/1/availability?date=2025-11-23&start_time=14:00&end_time=16:00",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "1",
                        "availability"
                     ],
                     "query":[
                        {
                           "key":"date",
                           "value":"2025-11-23"
                        },
                        {
                           "key":"start_time",
                           "value":"14:00"
                        },
                        {
                           "key":"end_time",
                           "value":"16:00"
                        }
                     ]
                  }
               },
               "response":[
                  
               ]
            },
            {
               "name":"Vehicle B - 2025-11-24 (whole day)",
               "request":{
                  "method":"GET",
                  "header":[
                     
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/4/availability?date=2025-11-24",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "4",
                        "availability"
                     ],
                     "query":[
                        {
                           "key":"date",
                           "value":"2025-11-24"
                        }
                     ]
                  }
               },
               "response":[
                  
               ]
            },
            {
               "name":"Projector - 2025-11-23 10:00-16:00",
               "request":{
                  "method":"GET",
                  "header":[
                     
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/5/availability?date=2025-11-23&start_time=10:00&end_time=16:00",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "5",
                        "availability"
                     ],
                     "query":[
                        {
                           "key":"date",
                           "value":"2025-11-23"
                        },
                        {
                           "key":"start_time",
                           "value":"10:00"
                        },
                        {
                           "key":"end_time",
                           "value":"16:00"
                        }
                     ]
                  }
               },
               "response":[
                  
               ]
            },
            {
               "name":"Whiteboard - 2025-11-25 10:00-12:00",
               "request":{
                  "method":"GET",
                  "header":[
                     
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/6/availability?date=2025-11-25&start_time=10:00&end_time=12:00",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "6",
                        "availability"
                     ],
                     "query":[
                        {
                           "key":"date",
                           "value":"2025-11-25"
                        },
                        {
                           "key":"start_time",
                           "value":"10:00"
                        },
                        {
                           "key":"end_time",
                           "value":"12:00"
                        }
                     ]
                  }
               },
               "response":[
                  
               ]
            }
         ]
      },
      {
         "name":"Create Reservations",
         "item":[
            {
               "name":"Worker - Room A - 2025-11-23 11:00-12:00",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{WORKER_TOKEN}}"
                     }
                  ],
                  "body":{
                     "mode":"raw",
                     "raw":"{\"date\": \"2025-11-23\", \"start_time\": \"11:00\", \"end_time\": \"12:00\", \"used_capacity\": 5}"
                  },
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/1/reservations/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "1",
                        "reservations",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Manager - Vehicle A - 2025-11-23",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{MANAGER_TOKEN}}"
                     }
                  ],
                  "body":{
                     "mode":"raw",
                     "raw":"{\"date\": \"2025-11-23\"}"
                  },
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/3/reservations/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "3",
                        "reservations",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Room A - Capacity Exceeded",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{WORKER_TOKEN}}"
                     }
                  ],
                  "body":{
                     "mode":"raw",
                     "raw":"{\"date\": \"2025-11-23\", \"start_time\": \"09:00\", \"end_time\": \"11:00\", \"used_capacity\": 25}"
                  },
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/1/reservations/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "1",
                        "reservations",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Projector - Time Overlap",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{WORKER_TOKEN}}"
                     }
                  ],
                  "body":{
                     "mode":"raw",
                     "raw":"{\"date\": \"2025-11-23\", \"start_time\": \"11:00\", \"end_time\": \"16:00\"}"
                  },
                  "url":{
                     "raw":"{{BASE_URL}}/api/resources/5/reservations/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "resources",
                        "5",
                        "reservations",
                        ""
                     ]
                  }
               }
            }
         ]
      },
      {
         "name":"Approve Reservations",
         "item":[
            {
               "name":"Worker attempts to approve",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{WORKER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/3/approve/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "3",
                        "approve",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Manager approves pending reservation",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{MANAGER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/3/approve/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "3",
                        "approve",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Manager attempts to approve already approved",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{MANAGER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/1/approve/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "1",
                        "approve",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Manager attempts to approve non-existent reservation",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{MANAGER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/9999/approve/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "9999",
                        "approve",
                        ""
                     ]
                  }
               }
            }
         ]
      },
      {
         "name":"Cancel Reservations",
         "item":[
            {
               "name":"Manager cancels approved Room A reservation - triggers pending transfer",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{MANAGER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/1/cancel/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "1",
                        "cancel",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Worker cancels Room A reservation",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{WORKER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/2/cancel/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "2",
                        "cancel",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Manager attempts to cancel blocked policy reservation",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{MANAGER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/5/cancel/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "5",
                        "cancel",
                        ""
                     ]
                  }
               }
            },
            {
               "name":"Manager attempts to cancel moderate policy too late",
               "request":{
                  "method":"POST",
                  "header":[
                     {
                        "key":"Content-Type",
                        "value":"application/json"
                     },
                     {
                        "key":"Authorization",
                        "value":"Token {{MANAGER_TOKEN}}"
                     }
                  ],
                  "url":{
                     "raw":"{{BASE_URL}}/api/reservations/6/cancel/",
                     "host":[
                        "{{BASE_URL}}"
                     ],
                     "path":[
                        "api",
                        "reservations",
                        "6",
                        "cancel",
                        ""
                     ]
                  }
               }
            }
         ]
      }
   ]
}
